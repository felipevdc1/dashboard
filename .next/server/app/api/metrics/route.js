(()=>{var a={};a.id=33,a.ids=[33,87],a.modules={87:(a,b,c)=>{"use strict";c.d(b,{supabase:()=>g});var d=c(36464);let e="https://swogockrnapyymcuorgs.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3b2dvY2tybmFweXltY3VvcmdzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwNDc1NjAsImV4cCI6MjA2MjYyMzU2MH0._Fo8MF9WTLiCPu112YZLJzszH1rGE3mimX_AaLFHeHQ";if(!e)throw Error("NEXT_PUBLIC_SUPABASE_URL is not defined in environment variables");if(!f)throw Error("NEXT_PUBLIC_SUPABASE_ANON_KEY is not defined in environment variables");let g=(0,d.UU)(e,f)},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3662:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>P,patchFetch:()=>O,routeModule:()=>K,serverHooks:()=>N,workAsyncStorage:()=>L,workUnitAsyncStorage:()=>M});var d={};c.r(d),c.d(d,{GET:()=>I,revalidate:()=>H});var e=c(95736),f=c(9117),g=c(4044),h=c(39326),i=c(32324),j=c(261),k=c(54290),l=c(85328),m=c(38928),n=c(46595),o=c(3421),p=c(17679),q=c(41681),r=c(63446),s=c(86439),t=c(51356),u=c(10641),v=c(87);function w(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`}function x(a){let b=new Date(a);b.setDate(1);let c=new Date(b);return c.setHours(0,0,0,0),c}function y(a){let b=new Date(a);b.setMonth(b.getMonth()+1),b.setDate(0);let c=new Date(b);return c.setHours(23,59,59,999),c}var z=c(10182);async function A(a,b){let{data:c,error:d}=await v.supabase.from("orders").select("*").gte("created_at",`${a}T00:00:00-03:00`).lte("created_at",`${b}T23:59:59-03:00`).order("created_at",{ascending:!1});if(d)throw console.error("Supabase query error:",d),Error(`Failed to fetch orders: ${d.message}`);return c||[]}async function B(a){let b=new Date(new Date(a));b.setMonth(b.getMonth()-4);let c=b.toISOString().split("T")[0],{data:d,error:e}=await v.supabase.from("orders").select("*").gte("created_at",`${c}T00:00:00-03:00`).lte("created_at",`${a}T23:59:59-03:00`).order("created_at",{ascending:!1});if(e)throw console.error("Supabase query error:",e),Error(`Failed to fetch orders for event analysis: ${e.message}`);return console.log(`✅ Fetched ${d?.length||0} orders for event analysis (last 4 months)`),d||[]}async function C(a,b){let c=[],d=0,e=!0;for(;e;){let{data:a,error:f}=await v.supabase.from("orders").select("*").gte("created_at",`${b}T00:00:00-03:00`).order("created_at",{ascending:!1}).range(d,d+1e3-1);if(f)throw console.error("Supabase query error:",f),Error(`Failed to fetch orders for monthly comparison: ${f.message}`);a&&a.length>0?(c=c.concat(a),d+=1e3,e=1e3===a.length):e=!1}return console.log(`✅ Fetched ${c.length} orders for monthly comparison (${Math.ceil(c.length/1e3)} pages)`),c}async function D(a,b){let{data:c,error:d}=await v.supabase.from("order_notes").select(`
      motivo,
      tipo,
      orders!inner (
        created_at
      )
    `).gte("orders.created_at",`${a}T00:00:00-03:00`).lte("orders.created_at",`${b}T23:59:59-03:00`);if(d)return console.error("Error fetching cancellation reasons:",d),[];if(!c||0===c.length)return[];let e=new Map;c.forEach(a=>{let b=a.motivo||"N\xe3o especificado",c=e.get(b)||{refundCount:0,chargebackCount:0};"refund"===a.tipo?c.refundCount++:"chargeback"===a.tipo&&c.chargebackCount++,e.set(b,c)});let f=c.length;return Array.from(e.entries()).map(([a,b])=>{let c=b.refundCount+b.chargebackCount;return{motivo:a,count:c,percentage:c/f*100,tipo:b.refundCount>0&&b.chargebackCount>0?"both":b.refundCount>0?"refund":"chargeback",refundCount:b.refundCount,chargebackCount:b.chargebackCount}}).sort((a,b)=>b.count-a.count).slice(0,5)}async function E(a,b,c,d){console.log("\uD83D\uDD0D Fetching orders from Supabase...");let e=Date.now(),f=await A(a,b);console.log(`✅ Current period orders: ${f.length}`);let g=await A(c,d);console.log(`✅ Previous period orders: ${g.length}`);let h=function(){let a=new Date,b={startDate:w(x(a)),endDate:w(y(a))},c=new Date(a);return c.setMonth(c.getMonth()-1),{currentMonth:b,previousMonth:{startDate:w(x(c)),endDate:w(y(c))}}}(),i=await C(h.currentMonth.startDate,h.previousMonth.startDate),j=await B(b),k=await D(a,b);console.log(`✅ Top cancellation reasons: ${k.length}`);let l=Date.now()-e;console.log(`⚡ Supabase queries completed in ${l}ms`);let m=(0,z.bT)(f),n=(0,z.bT)(g),o=(0,z.tP)(n,m),p=f.length,q=g.length,r=(0,z.tP)(q,p),s=m/(p||1),t=(0,z.tP)(n/(q||1),s),{refunds:u,chargebacks:v}=(0,z.Mt)(j,a,b),{refunds:E,chargebacks:F}=(0,z.Mt)(j,c,d),G=p>0?(u.count+v.count)/p*100:0,H=q>0?(E.count+F.count)/q*100:0,I=(0,z.tP)(H,G),J=p>0?u.count/p*100:0,K=p>0?v.count/p*100:0,L=(0,z.e3)(f),M=(0,z.eT)(f),N=(0,z.Dc)(f,"revenue"),O=(0,z.Dc)(f,"count"),P=(0,z.Dc)(f,"average"),Q=Array.from({length:7},(a,b)=>{let c=new Date;return c.setDate(c.getDate()-(6-b)),c.setHours(0,0,0,0),c}).map(a=>{let b=new Date(a);b.setDate(b.getDate()+1);let c=f.filter(c=>{let d=new Date(c.created_at);return d>=a&&d<b}),d=c.filter(a=>a.refunds&&a.refunds.length>0).length,e=c.filter(a=>1===a.chargeback_received).length;return c.length>0?(d+e)/c.length*100:0}),R=(0,z.Js)(i,h.currentMonth,h.previousMonth);return{metrics:{revenue:{total:m,change:o,trend:N},orders:{total:p,change:r,trend:O},averageTicket:{value:s,change:t,trend:P},lossRate:{value:G,change:I,trend:Q,breakdown:{refundRate:J,chargebackRate:K}},topProducts:L,topAffiliates:M,topCancellationReasons:k,refunds:u,chargebacks:v,monthlyComparison:R},activities:(0,z.LV)(f)}}var F=c(10807),G=c(30477);let H=120;async function I(a){let b=Date.now();try{let c,d,{searchParams:e}=new URL(a.url),f=e.get("start_date"),g=e.get("end_date"),h=e.get("period"),i="true"===e.get("force_refresh");if(f&&g)c=f,d=g;else if(h){let a=parseInt(h);d=J(0),c=J(a)}else d=J(0),c=J(30);let j=function(a,b){let c=new Date(a),d=Math.ceil((new Date(b).getTime()-c.getTime())/864e5),e=new Date(c);e.setDate(e.getDate()-1);let f=new Date(e);return f.setDate(f.getDate()-d+1),{start:w(f),end:w(e)}}(c,d),k=(0,F.hz)("supabase-metrics",{currentStart:c,currentEnd:d,previousStart:j.start,previousEnd:j.end});i&&(G.BM.debug("FORCE REFRESH - Bypassing cache"),F.GU.delete(k));let l=F.GU.getWithMetadata(k),m=l.data,n={cachedAt:l.cachedAt,cacheAge:l.age,cacheExpiresIn:l.ttl&&l.age?l.ttl-l.age:null,cacheExpiresAt:l.expiresAt};m?G.BM.debug("Cache HIT - Using cached metrics"):(G._F.debug("Cache MISS - Fetching metrics from Supabase",{currentPeriod:`${c} to ${d}`,previousPeriod:`${j.start} to ${j.end}`}),m=await E(c,d,j.start,j.end),F.GU.set(k,m,12e4),n.cachedAt=Date.now(),n.cacheAge=0,n.cacheExpiresIn=12e4,n.cacheExpiresAt=Date.now()+12e4);let o=Date.now()-b;G._F.debug(`Request completed in ${o}ms`);let p=u.NextResponse.json({metrics:m.metrics,activities:m.activities,lastUpdated:new Date().toISOString(),dateRange:{start:c,end:d},cache:{cachedAt:n.cachedAt,age:n.cacheAge,expiresIn:n.cacheExpiresIn,expiresAt:n.cacheExpiresAt},_meta:{cached:null!==l.data,duration:o,dataSource:"supabase"}});return p.headers.set("Cache-Control","public, s-maxage=120, stale-while-revalidate=240"),p.headers.set("CDN-Cache-Control","public, s-maxage=120"),p.headers.set("Vercel-CDN-Cache-Control","public, s-maxage=120"),p}catch(a){return G._F.error("Error fetching metrics",a),u.NextResponse.json({error:"Failed to fetch metrics",message:a instanceof Error?a.message:"Unknown error"},{status:500})}}function J(a){let b=new Date;return b.setDate(b.getDate()-a),b.toISOString().split("T")[0]}let K=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/api/metrics/route",pathname:"/api/metrics",filename:"route",bundlePath:"app/api/metrics/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/Users/felipevdc1/Documents/projetos claude code/dashboard escala independente/dashboard/app/api/metrics/route.ts",nextConfigOutput:"",userland:d}),{workAsyncStorage:L,workUnitAsyncStorage:M,serverHooks:N}=K;function O(){return(0,g.patchFetch)({workAsyncStorage:L,workUnitAsyncStorage:M})}async function P(a,b,c){var d;let e="/api/metrics/route";"/index"===e&&(e="/");let g=await K.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:y,routerServerContext:z,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,resolvedPathname:C}=g,D=(0,j.normalizeAppPath)(e),E=!!(y.dynamicRoutes[D]||y.routes[C]);if(E&&!x){let a=!!y.routes[C],b=y.dynamicRoutes[D];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let F=null;!E||K.isDev||x||(F="/index"===(F=C)?"/":F);let G=!0===K.isDev||!E,H=E&&!G,I=a.method||"GET",J=(0,i.getTracer)(),L=J.getActiveScopeSpan(),M={params:v,prerenderManifest:y,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:G,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:H,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,z)},sharedContext:{buildId:u}},N=new k.NodeNextRequest(a),O=new k.NodeNextResponse(b),P=l.NextRequestAdapter.fromNodeNextRequest(N,(0,l.signalFromNodeResponse)(b));try{let d=async c=>K.handle(P,M).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=J.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${I} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${I} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&A&&B&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=M.renderOpts.fetchMetrics;let i=M.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=M.renderOpts.collectedTags;if(!E)return await (0,o.I)(N,O,e,M.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,d=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await K.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})},z),b}},l=await K.handleResponse({req:a,nextConfig:w,cacheKey:F,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,responseGenerator:k,waitUntil:c.waitUntil});if(!E)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",A?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&E||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(N,O,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};L?await g(L):await J.withPropagatedContext(a.headers,()=>J.trace(m.BaseServerSpan.handleRequest,{spanName:`${I} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":I,"http.target":a.url}},g))}catch(b){if(b instanceof s.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})}),E)throw b;return await (0,o.I)(N,O,new Response(null,{status:500})),null}}},10182:(a,b,c)=>{"use strict";function d(a){return"number"==typeof a?a:parseFloat(a.replace(/,/g,""))}function e(a){return a.split("T")[0]}function f(a,b){return 0===a?100*(b>0):(b-a)/a*100}function g(a,b){return"number"==typeof a&&void 0!==b?3===a||3===b:3===a.financial_status||3===a.payment_status}function h(a){return a.reduce((a,b)=>b.refunds&&b.refunds.length>0||1===b.chargeback_received?a:(void 0!==b.financial_status?g(b):g(b.financial_status,b.payment_status))?a+d(b.total_price):a,0)}function i(a,b){return Array.from({length:7},(a,b)=>{let c=new Date;return c.setDate(c.getDate()-(6-b)),c.setHours(0,0,0,0),c}).map(c=>{let d=new Date(c);d.setDate(d.getDate()+1);let e=a.filter(a=>{let b=new Date(a.created_at);return b>=c&&b<d});return"revenue"===b?h(e):"count"===b?e.length:h(e)/(e.length||1)})}function j(a){let b=new Map;return a.forEach(a=>{g(a)&&a.line_items?.forEach(a=>{let c=a.product_id.toString(),e=b.get(c)||{name:a.title||a.name,sales:0,revenue:0};b.set(c,{name:a.title||a.name,sales:e.sales+a.quantity,revenue:e.revenue+d(a.total_price)})})}),Array.from(b.entries()).map(([a,b])=>({id:a,name:b.name,sales:b.sales,revenue:b.revenue,change:0})).sort((a,b)=>b.revenue-a.revenue).slice(0,5)}function k(a){let b=new Map;return a.forEach(a=>{if(g(a)&&a.affiliate_name&&a.affiliate_email){let c=a.affiliate_slug||a.affiliate_email,e=b.get(c)||{name:a.affiliate_name,email:a.affiliate_email,sales:0,revenue:0,commission:0},f=d(a.total_price),g=d(a.affiliate_amount||"0");b.set(c,{...e,sales:e.sales+1,revenue:e.revenue+f,commission:e.commission+g})}}),Array.from(b.entries()).map(([a,b])=>({id:a,name:b.name,email:b.email,sales:b.sales,revenue:b.revenue,commission:b.commission})).sort((a,b)=>b.revenue-a.revenue).slice(0,5)}function l(a,b,c){let f=h(a),g=a.reduce((a,d)=>{if(d.refunds&&d.refunds.length>0){let f=d.refunds.filter(a=>{let d=e(a.processed_at);return d>=b&&d<=c});if(f.length>0){let b=f.reduce((a,b)=>a+parseFloat(b.total_amount||b.sub_total||"0"),0);return{count:a.count+f.length,total:a.total+b}}}return a},{count:0,total:0}),i=a.reduce((a,f)=>{if(null!==f.chargeback_at&&""!==f.chargeback_at){let g=e(f.chargeback_at);if(g>=b&&g<=c){let b=d(f.total_price);return{count:a.count+1,total:a.total+b}}}return a},{count:0,total:0});return{refunds:{...g,percentage:f>0?g.total/f*100:0},chargebacks:{...i,percentage:f>0?i.total/f*100:0}}}function m(a,b,c){let d=a.filter(a=>{let c=e(a.created_at);return c>=b.startDate&&c<=b.endDate}),f=a.filter(a=>{let b=e(a.created_at);return b>=c.startDate&&b<=c.endDate}),i=new Date(b.startDate),j=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),k=[];for(let a=1;a<=j;a++)k.push(a.toString());let l=[],m=[],n=[],o=[];for(let a=1;a<=j;a++){let b=d.filter(b=>new Date(e(b.created_at)).getDate()===a),c=f.filter(b=>new Date(e(b.created_at)).getDate()===a),i=h(b),j=b.filter(g).length,k=h(c),p=c.filter(g).length;l.push(i),m.push(j),n.push(k),o.push(p)}return{labels:k,currentMonth:{revenue:l,orders:m},previousMonth:{revenue:n,orders:o}}}function n(a){let b=[];return[...a].sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime()).slice(0,10).forEach(a=>{let c=d(a.total_price),e=`${a.customer.first_name} ${a.customer.last_name}`;if(g(a)){let d=a.affiliate_name||a.affiliate_slug||a.afid?`${e} • via ${a.affiliate_name||a.affiliate_slug||a.afid} (afiliado)`:`${e}`;b.push({id:`order-${a.id}`,type:"order",title:`Novo pedido #${a.order_number} aprovado`,description:d,amount:c,timestamp:a.created_at})}a.refunds&&a.refunds.length>0&&b.push({id:`refund-${a.id}`,type:"refund",title:`Reembolso solicitado #${a.order_number}`,description:`Cliente: ${e} - ${o(c)}`,amount:c,timestamp:a.updated_at}),1===a.chargeback_received&&b.push({id:`chargeback-${a.id}`,type:"chargeback",title:`Chargeback recebido #${a.order_number}`,description:`Valor: ${o(c)} - em an\xe1lise`,amount:c,timestamp:a.chargeback_at||a.updated_at})}),b.sort((a,b)=>new Date(b.timestamp).getTime()-new Date(a.timestamp).getTime()).slice(0,4)}function o(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}c.d(b,{Dc:()=>i,J4:()=>g,Js:()=>m,LV:()=>n,Mt:()=>l,XN:()=>e,bT:()=>h,e3:()=>j,eT:()=>k,tP:()=>f,z7:()=>d})},10807:(a,b,c)=>{"use strict";c.d(b,{GU:()=>f,hz:()=>g});var d=c(30477);class e{constructor(){this.cache=new Map,this.cleanupInterval=null,this.startCleanup()}get(a){let b=this.cache.get(a);if(!b)return null;let c=Date.now()-b.timestamp;return c>b.ttl?(this.cache.delete(a),d.BM.debug(`Cache expired: ${a} (age: ${Math.round(c/1e3)}s)`),null):(d.BM.debug(`Cache hit: ${a} (age: ${Math.round(c/1e3)}s)`),b.data)}getWithMetadata(a){let b=this.cache.get(a);if(!b)return{data:null,cachedAt:null,expiresAt:null,age:null,ttl:null};let c=Date.now()-b.timestamp,e=b.timestamp+b.ttl;return c>b.ttl?(this.cache.delete(a),d.BM.debug(`Cache expired: ${a} (age: ${Math.round(c/1e3)}s)`),{data:null,cachedAt:null,expiresAt:null,age:null,ttl:null}):(d.BM.debug(`Cache hit with metadata: ${a} (age: ${Math.round(c/1e3)}s, expires in: ${Math.round((b.ttl-c)/1e3)}s)`),{data:b.data,cachedAt:b.timestamp,expiresAt:e,age:c,ttl:b.ttl})}set(a,b,c=3e5){this.cache.set(a,{data:b,timestamp:Date.now(),ttl:c}),d.BM.debug(`Cache set: ${a} (TTL: ${c/1e3}s)`)}has(a){return null!==this.get(a)}delete(a){let b=this.cache.delete(a);return b&&d.BM.debug(`Cache deleted: ${a}`),b}clear(){this.cache.clear(),d.BM.debug("Cache cleared completely")}size(){return this.cache.size}keys(){return Array.from(this.cache.keys())}startCleanup(){this.cleanupInterval=setInterval(()=>{let a=Date.now(),b=0;for(let[c,d]of this.cache.entries())a-d.timestamp>d.ttl&&(this.cache.delete(c),b++);b>0&&d.BM.debug(`Cache cleanup: removed ${b} expired entries`)},6e4)}stopCleanup(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null)}stats(){let a=Date.now(),b=Array.from(this.cache.entries()).map(([b,c])=>({key:b,age:a-c.timestamp,ttl:c.ttl}));return{size:this.cache.size,keys:this.keys(),entries:b}}}let f=new e;function g(a,b){let c=Object.keys(b).sort().map(a=>`${a}=${b[a]}`).join("&");return`${a}:${c}`}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30477:(a,b,c)=>{"use strict";c.d(b,{BM:()=>g,GG:()=>j,XU:()=>f,_F:()=>i,cq:()=>h});class d{constructor(a=""){this.prefix=a}debug(a){}info(a,...b){console.info(this.formatMessage("info",a),...b)}warn(a,...b){console.warn(this.formatMessage("warn",a),...b)}error(a,b,c){{let d=this.formatMessage("error",a);b instanceof Error?console.error(d,{message:b.message,stack:b.stack,...c}):b?console.error(d,b,c):console.error(d,c)}}child(a){return new d(this.prefix?`${this.prefix}:${a}`:a)}formatMessage(a,b){let c=new Date().toISOString(),d=this.prefix?`[${this.prefix}]`:"";return`${({debug:"\uD83D\uDD0D",info:"ℹ️",warn:"⚠️",error:"❌"})[a]} ${c} ${d} ${b}`}}let e=new d,f=e.child("API"),g=e.child("CACHE"),h=e.child("SYNC"),i=e.child("METRICS"),j=e.child("AFFILIATE")},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},96487:()=>{}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[586,692,464],()=>b(b.s=3662));module.exports=c})();